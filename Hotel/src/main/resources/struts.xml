<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
 
 <struts>
        <constant name="struts.devMode" value="true" />
        
        <package name="start" extends="struts-default">
                <action name="index">
                        <result>/index.jsp</result>
                </action>
        </package>
        
        <package name="verify" extends="struts-default,json-default">
                <action name="login" class="LoginAction" method="login">
                        <interceptor-ref name="defaultStack"/>
                        <interceptor-ref name="json">
                                <param name="enableSMD">true</param>
                        </interceptor-ref>
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
                
                <action name="logout" class="LogoutAction" method="logout">
                        <result name="success">/index.jsp</result>
                </action>
        </package>
        
        <package name="member" extends="struts-default,json-default">
        
                <interceptors>
                        <interceptor-stack name="hotelStack">
                                <interceptor-ref name="defaultStack"/>
	                        <interceptor-ref name="json">
	                                <param name="enableSMD">true</param>
	                        </interceptor-ref>
                        </interceptor-stack>
                </interceptors>
                
                <default-interceptor-ref name="hotelStack"/>
                
                <action name="register" class="RegisterAction" method="register">
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
                <action name="activate" class="ActivateAction" method="activate">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
                <action name="cancel" class="CancelAction" method="cancel">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
                <action name="recharge" class="RechargeAction" method="recharge">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
        </package>
        
        <package name="hotel" extends="struts-default,json-default">
        
                <interceptors>
                        <interceptor-stack name="hotelStack">
                                <interceptor-ref name="defaultStack"/>
                                <interceptor-ref name="json">
                                        <param name="enableSMD">true</param>
                                </interceptor-ref>
                        </interceptor-stack>
                </interceptors>
                
                <default-interceptor-ref name="hotelStack"/>
                
                <action name="roomBook" class="RoomBookAction" method="book">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
                <action name="getInfo" class="RoomBookAction" method="getInfo">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">roomInfo</param>
                        </result>
                </action>
                <action name="roomCancel" class="BookCancelAction" method="cancel">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">result</param>
                        </result>
                </action>
                <action name="getBookRooms" class="BookCancelAction" method="getBookRooms">
                        <result name="login">/index.jsp</result>
                        <result type="json">
                                <param name="root">bookList</param>
                        </result>
                </action>
        </package>
 </struts>